<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Paint Messenger</title>
    <style>
        /* CSS –±—É–¥–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ */
    </style>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="app">
        <!-- –ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ -->
        <div class="main-toolbar">
            <div class="tool-section">
                <button class="tool-btn active" data-tool="brush" title="–ö–∏—Å—Ç—å">üñåÔ∏è</button>
                <button class="tool-btn" data-tool="eraser" title="–õ–∞—Å—Ç–∏–∫">üßπ</button>
                <button class="tool-btn" data-tool="text" title="–¢–µ–∫—Å—Ç">üìù</button>
                <button class="tool-btn" data-tool="shapes" title="–§–∏–≥—É—Ä—ã">‚¨ú</button>
            </div>
            
            <div class="tool-section">
                <input type="color" class="color-picker" value="#000000" title="–¶–≤–µ—Ç">
                <div class="brush-size-container">
                    <input type="range" class="brush-size" min="1" max="30" value="3" title="–†–∞–∑–º–µ—Ä">
                    <span class="size-value">3</span>
                </div>
            </div>

            <div class="tool-section">
                <button class="action-btn" data-action="undo" title="–û—Ç–º–µ–Ω–∏—Ç—å">‚Ü©Ô∏è</button>
                <button class="action-btn" data-action="redo" title="–ü–æ–≤—Ç–æ—Ä–∏—Ç—å">‚Ü™Ô∏è</button>
                <button class="action-btn" data-action="clear" title="–û—á–∏—Å—Ç–∏—Ç—å">üóëÔ∏è</button>
                <button class="action-btn" data-action="menu" title="–ú–µ–Ω—é">‚ò∞</button>
            </div>
        </div>

        <!-- –•–æ–ª—Å—Ç -->
        <div class="canvas-container">
            <canvas id="paintCanvas"></canvas>
        </div>

        <!-- –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
        <div class="secondary-toolbar">
            <button class="sec-btn" data-action="save">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button class="sec-btn" data-action="background">üé® –§–æ–Ω</button>
            <button class="sec-btn" data-action="templates">üìÅ –®–∞–±–ª–æ–Ω—ã</button>
        </div>

        <!-- –ú–µ–Ω—é -->
        <div class="menu-overlay" id="menuOverlay">
            <div class="menu-panel">
                <div class="menu-header">
                    <h3>–ú–µ–Ω—é</h3>
                    <button class="close-btn" data-action="close-menu">‚úï</button>
                </div>
                
                <div class="menu-content">
                    <div class="menu-section">
                        <h4>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</h4>
                        <button class="menu-item" data-tool="brush">üñåÔ∏è –ö–∏—Å—Ç—å</button>
                        <button class="menu-item" data-tool="line">üìè –õ–∏–Ω–∏—è</button>
                        <button class="menu-item" data-tool="rect">‚¨ú –ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫</button>
                        <button class="menu-item" data-tool="circle">‚≠ï –ö—Ä—É–≥</button>
                        <button class="menu-item" data-tool="text">üìù –¢–µ–∫—Å—Ç</button>
                        <button class="menu-item" data-tool="eraser">üßπ –õ–∞—Å—Ç–∏–∫</button>
                    </div>
                    
                    <div class="menu-section">
                        <h4>–î–µ–π—Å—Ç–≤–∏—è</h4>
                        <button class="menu-item" data-action="save-png">üíæ PNG</button>
                        <button class="menu-item" data-action="save-jpg">üñºÔ∏è JPG</button>
                        <button class="menu-item" data-action="copy">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button class="menu-item" data-action="share">üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
                    </div>

                    <div class="menu-section">
                        <h4>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h4>
                        <button class="menu-item" data-action="background-menu">üé® –§–æ–Ω</button>
                        <button class="menu-item" data-action="templates-menu">üìÅ –®–∞–±–ª–æ–Ω—ã</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å —Ñ–æ–Ω–æ–≤ -->
        <div class="panel-overlay" id="backgroundPanel">
            <div class="panel">
                <div class="panel-header">
                    <h3>–í—ã–±–æ—Ä —Ñ–æ–Ω–∞</h3>
                    <button class="close-btn" data-action="close-background">‚úï</button>
                </div>
                <div class="panel-content">
                    <div class="background-options">
                        <div class="bg-option" data-bg="transparent">
                            <div class="bg-preview transparent"></div>
                            <span>–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π</span>
                        </div>
                        <div class="bg-option" data-bg="white">
                            <div class="bg-preview white"></div>
                            <span>–ë–µ–ª—ã–π</span>
                        </div>
                        <div class="bg-option" data-bg="grid">
                            <div class="bg-preview grid"></div>
                            <span>–°–µ—Ç–∫–∞</span>
                        </div>
                        <div class="bg-option" data-bg="lined">
                            <div class="bg-preview lined"></div>
                            <span>–õ–∏–Ω–æ–≤–∫–∞</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å —à–∞–±–ª–æ–Ω–æ–≤ -->
        <div class="panel-overlay" id="templatesPanel">
            <div class="panel">
                <div class="panel-header">
                    <h3>–®–∞–±–ª–æ–Ω—ã</h3>
                    <button class="close-btn" data-action="close-templates">‚úï</button>
                </div>
                <div class="panel-content">
                    <div class="template-options">
                        <div class="template-option" data-template="comic">
                            <div class="template-preview">ü¶∏</div>
                            <span>–ö–æ–º–∏–∫—Å</span>
                        </div>
                        <div class="template-option" data-template="storyboard">
                            <div class="template-preview">üé¨</div>
                            <span>–†–∞—Å–∫–∞–¥—Ä–æ–≤–∫–∞</span>
                        </div>
                        <div class="template-option" data-template="mindmap">
                            <div class="template-preview">üß†</div>
                            <span>–ú–µ–Ω—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
        <div class="notification" id="notification">
            <span id="notificationText"></span>
        </div>
    </div>

    <script>
        // JavaScript –±—É–¥–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω
    </script>
</body>
</html>